<div>
	<a [routerLink]="['/gestion-client']"><button type="button" class="btn btn-success">Retour</button></a>
</div>

<h3>Informations client :</h3>

<form class="well" (ngSubmit)="onSubmit()" #updateForm='ngForm' ngNativeValidate>
	<div class="container">
		<div class="row">

			<div class="col-sm">
				<div class="tableau1">
					<table class="table table-striped table-bordered table-hover">
						<thead class="thead-light">
						</thead>
						<tbody>
							<tr>
								<th>Référence</th>
								<td>
									<input type="text" [(ngModel)]='actualClient.refClient' name='ref' #ref='ngModel'/>
								</td>
							</tr>
							<tr>
								<th>Nom du client</th>
								<td>
									<input type="text" required [(ngModel)]='actualClient.nom' name='nom' placeholder="Nom" #nom='ngModel' pattern="[a-zA-Z ]*" />
								</td>
							</tr>
							<tr>
								<th>Prénom du client</th>
								<td>
									<input type="text" required [(ngModel)]='actualClient.prenom' name='prenom' placeholder="Prénom" #prenom='ngModel' />
								</td>
							</tr>
							<tr>
								<th>Rue</th>
								<td>
									<input type="text" required [(ngModel)]='actualClient.adresse.rue' name='rue' placeholder="Rue" #rue='ngModel' />
								</td>
							</tr>
							<tr>
								<th>Code postal</th>
								<td>
									<input type="text" required [(ngModel)]='actualClient.adresse.codePostal' name='codePostal' placeholder="Code postal" #codePostal='ngModel' />
								</td>
							</tr>
							<tr>
								<th>Ville</th>
								<td>
									<input type="text" required [(ngModel)]='actualClient.adresse.ville' name='ville' placeholder="Ville" #rue='ngModel' />
								</td>
							</tr>
							<tr>
								<th>Tél</th>
								<td>
									<input type="text" required [(ngModel)]='actualClient.adresse.tel' name='tel' placeholder="0633190485" #tel='ngModel' />
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<div class="col-sm">
				<div class="tableau2">
					<h4 *ngIf="actualClient.compteCourant.etatActif">Détails du compte courant</h4>
					<h4 *ngIf="!actualClient.compteCourant.etatActif">Activer le compte courant</h4>
					<table class="table table-striped table-bordered table-hover">
						<thead class="thead-light">
						</thead>
						<tbody *ngIf="actualClient.compteCourant.etatActif">
							<tr>
								<th>Date d'ouverture</th>
								<td>
									<p>{{actualClient.compteCourant.dateOuverture | date:'short'}}</p>
								</td>
							</tr>
							<tr>
								<th>Numéro de compte</th>
								<td>
									<input type="text" [(ngModel)]='actualClient.compteCourant.numCompte' name='numCompte' #numCompte='ngModel' />
								</td>
							</tr>
							<tr>
								<th>Solde du compte</th>
								<td>
									<input type="number" step="0.01" required [(ngModel)]='actualClient.compteCourant.solde' name='solde' #solde='ngModel' /> €
								</td>
							</tr>
							<tr>
								<th>Découvert autorisé</th>
								<td>
									<input type="number" step="0.01" required [(ngModel)]='actualClient.compteCourant.decouvertAuthorise' name='decouvertAuthorise' #decouvertAuthorise='ngModel'
									/>
								</td>
							</tr>
						</tbody>
					</table>
					<a class="btn btn-info" role="button" *ngIf="!actualClient.compteCourant.etatActif" (click)="actualClient.compteCourant.etatActif=true">Activer</a>
				</div>
			</div>

			<div class="col-sm">
				<div class="tableau3">
					<h4 *ngIf="actualClient.compteEpargne.etatActif">Détails du compte épargne</h4>
					<h4 *ngIf="!actualClient.compteEpargne.etatActif">Activer le compte épargne</h4>
					<table class="table table-striped table-bordered table-hover">
						<thead class="thead-light">
						</thead>
						<tbody *ngIf="actualClient.compteEpargne.etatActif">
							<tr>
								<th>Date d'ouverture</th>
								<td>
									<p>{{actualClient.compteEpargne.dateOuverture | date:'short'}}</p>
								</td>
							</tr>
							<tr>
								<th>Numéro de compte</th>
								<td>
									<input type="text" [(ngModel)]='actualClient.compteEpargne.numCompte' name='numCompteEpargne' #numCompteEpargne='ngModel'
									/>
								</td>
							</tr>
							<tr>
								<th>Solde du compte</th>
								<td>
									<input type="number" step="0.01" required [(ngModel)]='actualClient.compteEpargne.solde' name='soldeEpargne' #soldeEpargne='ngModel' /> €
								</td>
							</tr>
							<tr>
								<th>Taux de rémunération</th>
								<td>
									<input type="number" step="0.01" required [(ngModel)]='actualClient.compteEpargne.tauxInteret' name='tauxInteretEpargne' #tauxInteretEpargne='ngModel'
									/>
								</td>
							</tr>
						</tbody>
					</table>
					<a class="btn btn-info" role="button" *ngIf="!actualClient.compteEpargne.etatActif" (click)="actualClient.compteEpargne.etatActif=true">Activer</a>
				</div>
			</div>
			
		</div>
	</div>
<div class="mesBoutons">
	<button *ngIf="null != actualClient.id" type='submit' class="btn btn-primary">Mettre à jour le client</button>
	<button *ngIf="null == actualClient.id" type='submit' class="btn btn-primary">Ajouter le client</button>
</div>
</form>

